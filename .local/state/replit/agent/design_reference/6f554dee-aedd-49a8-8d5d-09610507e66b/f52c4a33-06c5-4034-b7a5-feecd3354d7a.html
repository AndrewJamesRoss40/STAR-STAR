<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pull-Up Tracker - Fitness Progress</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'system-ui', 'sans-serif'],
                },
                animation: {
                    'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    'bounce-light': 'bounce 1s infinite',
                }
            }
        }
    };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-slate-50 font-inter min-h-screen">
    
    <!-- @COMPONENT: AppHeader -->
    <header class="bg-white shadow-sm border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-4xl mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="bg-blue-500 p-2 rounded-xl">
                        <i class="fas fa-dumbbell text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-slate-800">Pull-Up Tracker</h1>
                        <p class="text-sm text-slate-500" data-bind="currentDate">Today, Jan 2nd</p>
                    </div>
                </div>
                <button class="p-2 rounded-lg hover:bg-slate-100 transition-colors" data-event="click:openSettings">
                    <i class="fas fa-cog text-slate-600"></i>
                </button>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: AppHeader -->

    <main class="max-w-4xl mx-auto px-4 py-6 space-y-6">
        
        <!-- @COMPONENT: QuickStatsCard -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <div class="grid grid-cols-3 gap-4">
                <div class="text-center">
                    <div class="text-3xl font-bold text-blue-600" data-bind="todayTotal">12</div>
                    <div class="text-sm text-slate-500">Today</div>
                </div>
                <div class="text-center border-x border-slate-200">
                    <div class="text-3xl font-bold text-emerald-600" data-bind="weeklyTotal">67</div>
                    <div class="text-sm text-slate-500">This Week</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-amber-600" data-bind="personalRecord">25</div>
                    <div class="text-sm text-slate-500">PR</div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: QuickStatsCard -->

        <!-- @COMPONENT: QuickLoggingPanel -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                <i class="fas fa-plus-circle text-blue-500 mr-2"></i>
                Quick Log
            </h2>
            
            <div class="grid grid-cols-2 gap-3 mb-4">
                <button class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl" 
                        data-event="click:logReps(1)" 
                        data-implementation="Should call logReps API with 1 rep">
                    <i class="fas fa-plus mr-2"></i>
                    +1 Rep
                </button>
                <button class="bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-4 px-6 rounded-xl transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-lg hover:shadow-xl" 
                        data-event="click:logReps(5)" 
                        data-implementation="Should call logReps API with 5 reps">
                    <i class="fas fa-plus mr-2"></i>
                    +5 Reps
                </button>
            </div>

            <div class="flex space-x-3">
                <input type="number" 
                       id="customReps" 
                       placeholder="Custom reps..."
                       class="flex-1 px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                       data-mock="true"
                       data-implementation="Should bind to state for custom rep input">
                <button class="bg-slate-600 hover:bg-slate-700 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl" 
                        data-event="click:logCustomReps" 
                        data-implementation="Should validate and log custom rep amount">
                    <i class="fas fa-check mr-2"></i>
                    Log
                </button>
            </div>
        </div>
        <!-- @END_COMPONENT: QuickLoggingPanel -->

        <!-- @COMPONENT: ProgressChart -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <i class="fas fa-chart-line text-emerald-500 mr-2"></i>
                    Progress Chart
                </h2>
                <div class="flex space-x-2">
                    <button class="px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-lg font-medium" data-event="click:showDaily">Daily</button>
                    <button class="px-3 py-1 text-sm text-slate-500 hover:bg-slate-100 rounded-lg" data-event="click:showWeekly">Weekly</button>
                </div>
            </div>
            
            <!-- @FUNCTIONALITY: This chart should implement a real progress visualization using Chart.js or similar -->
            <div class="h-48 bg-slate-50 rounded-xl flex items-center justify-center border-2 border-dashed border-slate-300">
                <div class="text-center">
                    <i class="fas fa-chart-bar text-slate-400 text-3xl mb-2"></i>
                    <p class="text-slate-500">Interactive Progress Chart</p>
                    <p class="text-sm text-slate-400">Last 7 days trend visualization</p>
                </div>
            </div>
            
            <!-- Progress bars for recent days -->
            <div class="mt-4 space-y-2">
                <!-- @MAP: last7Days.map(day => ( -->
                <div class="flex items-center justify-between text-sm">
                    <span class="text-slate-600 w-16" data-bind="day.date">Jan 2</span>
                    <div class="flex-1 mx-3 bg-slate-200 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: 60%" data-bind="day.progressPercentage"></div>
                    </div>
                    <span class="text-slate-800 font-medium w-8" data-bind="day.reps">12</span>
                </div>
                <div class="flex items-center justify-between text-sm">
                    <span class="text-slate-600 w-16" data-bind="day.date">Jan 1</span>
                    <div class="flex-1 mx-3 bg-slate-200 rounded-full h-2">
                        <div class="bg-emerald-500 h-2 rounded-full" style="width: 80%" data-bind="day.progressPercentage"></div>
                    </div>
                    <span class="text-slate-800 font-medium w-8" data-bind="day.reps">16</span>
                </div>
                <div class="flex items-center justify-between text-sm">
                    <span class="text-slate-600 w-16" data-bind="day.date">Dec 31</span>
                    <div class="flex-1 mx-3 bg-slate-200 rounded-full h-2">
                        <div class="bg-amber-500 h-2 rounded-full" style="width: 45%" data-bind="day.progressPercentage"></div>
                    </div>
                    <span class="text-slate-800 font-medium w-8" data-bind="day.reps">9</span>
                </div>
                <!-- @END_MAP )) -->
            </div>
        </div>
        <!-- @END_COMPONENT: ProgressChart -->

        <!-- @COMPONENT: ChatGPTAnalysisPanel -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <i class="fas fa-robot text-purple-500 mr-2"></i>
                    AI Analysis
                </h2>
                <div class="flex space-x-2">
                    <button class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 shadow-lg hover:shadow-xl" 
                            data-event="click:sendToGPT" 
                            data-implementation="Should call /send-to-gpt endpoint and display response">
                        <i class="fas fa-brain mr-2"></i>
                        Get Analysis
                    </button>
                    <button class="bg-slate-100 hover:bg-slate-200 text-slate-700 px-4 py-2 rounded-lg text-sm font-medium transition-all" 
                            data-event="click:exportToChatGPT" 
                            data-implementation="Should call /export endpoint and copy to clipboard">
                        <i class="fas fa-download mr-2"></i>
                        Export
                    </button>
                </div>
            </div>

            <!-- @STATE: isAnalyzing:boolean = false, analysisResult:string = '' -->
            <div id="gptAnalysis" class="min-h-24" data-implementation="Should display GPT analysis response">
                <!-- Loading state -->
                <div class="hidden" id="analysisLoading">
                    <div class="flex items-center justify-center py-8">
                        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"></div>
                        <span class="ml-3 text-slate-600">Analyzing your progress...</span>
                    </div>
                </div>

                <!-- Default state -->
                <div class="bg-slate-50 border-2 border-dashed border-slate-300 rounded-xl p-6 text-center">
                    <i class="fas fa-lightbulb text-slate-400 text-2xl mb-2"></i>
                    <p class="text-slate-500 mb-2">Get personalized insights about your pull-up progress</p>
                    <p class="text-sm text-slate-400">Click "Get Analysis" to receive AI-powered feedback and recommendations</p>
                </div>

                <!-- Analysis result (hidden by default) -->
                <div class="hidden bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4" id="analysisResult">
                    <div class="flex items-start space-x-3">
                        <div class="bg-purple-500 p-2 rounded-lg">
                            <i class="fas fa-robot text-white"></i>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-slate-800 mb-2">AI Feedback</h3>
                            <p class="text-slate-700 leading-relaxed" data-bind="gptResponse" data-mock="true">
                                Great progress! You've maintained consistency with 12 pull-ups today. Your weekly total of 67 reps shows steady improvement. Consider adding variety with different grip positions to target different muscle groups. Keep up the excellent work!
                            </p>
                            <div class="mt-3 flex items-center text-sm text-slate-500">
                                <i class="fas fa-clock mr-1"></i>
                                <span data-bind="analysisTimestamp">2 minutes ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Auto-export status -->
            <div class="mt-4 pt-4 border-t border-slate-200">
                <div class="flex items-center justify-between text-sm">
                    <div class="flex items-center text-slate-500">
                        <i class="fas fa-clock mr-2"></i>
                        <span>Auto-export scheduled for 9:00 PM daily</span>
                    </div>
                    <div class="flex items-center text-emerald-600">
                        <i class="fas fa-check-circle mr-1"></i>
                        <span>Last sent: Yesterday</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ChatGPTAnalysisPanel -->

        <!-- @COMPONENT: RecentLogsPanel -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <div class="flex items-center justify-between mb-4">
                <h2 class="text-lg font-semibold text-slate-800 flex items-center">
                    <i class="fas fa-history text-slate-500 mr-2"></i>
                    Recent Logs
                </h2>
                <button class="text-blue-500 hover:text-blue-600 text-sm font-medium" data-event="click:viewAllLogs">
                    View All
                </button>
            </div>

            <div class="space-y-3">
                <!-- @MAP: recentLogs.map(log => ( -->
                <div class="flex items-center justify-between p-3 bg-slate-50 rounded-xl">
                    <div class="flex items-center space-x-3">
                        <div class="bg-blue-100 p-2 rounded-lg">
                            <i class="fas fa-dumbbell text-blue-600 text-sm"></i>
                        </div>
                        <div>
                            <div class="font-medium text-slate-800" data-bind="log.reps">5 reps</div>
                            <div class="text-sm text-slate-500" data-bind="log.timeAgo">2 hours ago</div>
                        </div>
                    </div>
                    <div class="text-sm text-slate-400" data-bind="log.timestamp">2:30 PM</div>
                </div>
                
                <div class="flex items-center justify-between p-3 bg-slate-50 rounded-xl">
                    <div class="flex items-center space-x-3">
                        <div class="bg-emerald-100 p-2 rounded-lg">
                            <i class="fas fa-dumbbell text-emerald-600 text-sm"></i>
                        </div>
                        <div>
                            <div class="font-medium text-slate-800" data-bind="log.reps">1 rep</div>
                            <div class="text-sm text-slate-500" data-bind="log.timeAgo">3 hours ago</div>
                        </div>
                    </div>
                    <div class="text-sm text-slate-400" data-bind="log.timestamp">1:15 PM</div>
                </div>

                <div class="flex items-center justify-between p-3 bg-slate-50 rounded-xl">
                    <div class="flex items-center space-x-3">
                        <div class="bg-amber-100 p-2 rounded-lg">
                            <i class="fas fa-dumbbell text-amber-600 text-sm"></i>
                        </div>
                        <div>
                            <div class="font-medium text-slate-800" data-bind="log.reps">6 reps</div>
                            <div class="text-sm text-slate-500" data-bind="log.timeAgo">5 hours ago</div>
                        </div>
                    </div>
                    <div class="text-sm text-slate-400" data-bind="log.timestamp">11:45 AM</div>
                </div>
                <!-- @END_MAP )) -->
            </div>
        </div>
        <!-- @END_COMPONENT: RecentLogsPanel -->

        <!-- @COMPONENT: GoalsAndStreaks -->
        <div class="bg-white rounded-2xl shadow-sm border border-slate-200 p-6">
            <h2 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                <i class="fas fa-target text-red-500 mr-2"></i>
                Goals & Streaks
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Daily Goal -->
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-blue-800">Daily Goal</span>
                        <span class="text-xs text-blue-600 bg-blue-100 px-2 py-1 rounded-full">80%</span>
                    </div>
                    <div class="text-2xl font-bold text-blue-600 mb-1" data-bind="dailyGoalProgress">12 / 15</div>
                    <div class="w-full bg-blue-200 rounded-full h-2">
                        <div class="bg-blue-500 h-2 rounded-full" style="width: 80%"></div>
                    </div>
                </div>

                <!-- Current Streak -->
                <div class="bg-emerald-50 border border-emerald-200 rounded-xl p-4">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm font-medium text-emerald-800">Current Streak</span>
                        <i class="fas fa-fire text-orange-500"></i>
                    </div>
                    <div class="text-2xl font-bold text-emerald-600 mb-1" data-bind="currentStreak">7 days</div>
                    <div class="text-xs text-emerald-600">Best: 12 days</div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: GoalsAndStreaks -->

    </main>

    <!-- @COMPONENT: FloatingActionButton -->
    <div class="fixed bottom-6 right-6 z-50">
        <button class="bg-blue-500 hover:bg-blue-600 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 transform hover:scale-110 active:scale-95" 
                data-event="click:quickLog" 
                data-implementation="Should open quick logging modal or trigger +1 rep">
            <i class="fas fa-plus text-xl"></i>
        </button>
    </div>
    <!-- @END_COMPONENT: FloatingActionButton -->

    <!-- @COMPONENT: ToastNotifications -->
    <div id="toastContainer" class="fixed top-20 right-4 z-50 space-y-2" data-implementation="Should show success/error notifications">
        <!-- Success toast (hidden by default) -->
        <div class="hidden bg-emerald-500 text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2" id="successToast">
            <i class="fas fa-check-circle"></i>
            <span data-bind="successMessage">Pull-up logged successfully!</span>
        </div>
        
        <!-- Error toast (hidden by default) -->
        <div class="hidden bg-red-500 text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2" id="errorToast">
            <i class="fas fa-exclamation-circle"></i>
            <span data-bind="errorMessage">Failed to log pull-ups</span>
        </div>
    </div>
    <!-- @END_COMPONENT: ToastNotifications -->

    <script>
        // TODO: Implement React component state management and API integration
        // TODO: Connect to existing backend endpoints (/log, /logs, /export, /send-to-gpt)
        // TODO: Implement real-time chart updates using Chart.js or similar
        // TODO: Add proper error handling and loading states
        // TODO: Implement offline support with service workers
        
        (function() {
            // Demo functionality for mockup purposes only
            // In production, this would be replaced with proper React components and state management
            
            let todayTotal = 12;
            let isAnalyzing = false;
            
            // Demo quick logging
            window.logReps = function(reps) {
                // TODO: Call actual /log endpoint
                todayTotal += reps;
                document.querySelector('[data-bind="todayTotal"]').textContent = todayTotal;
                showToast('success', `${reps} rep${reps > 1 ? 's' : ''} logged!`);
            };
            
            // Demo GPT analysis
            window.sendToGPT = function() {
                // TODO: Call actual /send-to-gpt endpoint
                const loadingEl = document.getElementById('analysisLoading');
                const resultEl = document.getElementById('analysisResult');
                const defaultEl = document.querySelector('#gptAnalysis > div:not([id])');
                
                if (isAnalyzing) return;
                
                isAnalyzing = true;
                defaultEl.classList.add('hidden');
                loadingEl.classList.remove('hidden');
                
                setTimeout(() => {
                    loadingEl.classList.add('hidden');
                    resultEl.classList.remove('hidden');
                    isAnalyzing = false;
                }, 2000);
            };
            
            // Demo toast notifications
            function showToast(type, message) {
                const toastId = type === 'success' ? 'successToast' : 'errorToast';
                const toast = document.getElementById(toastId);
                const messageEl = toast.querySelector('[data-bind*="Message"]');
                
                messageEl.textContent = message;
                toast.classList.remove('hidden');
                
                setTimeout(() => {
                    toast.classList.add('hidden');
                }, 3000);
            }
            
            // Add event listeners for demo
            document.addEventListener('click', function(e) {
                if (e.target.closest('[data-event*="logReps(1)"]')) {
                    logReps(1);
                } else if (e.target.closest('[data-event*="logReps(5)"]')) {
                    logReps(5);
                } else if (e.target.closest('[data-event*="sendToGPT"]')) {
                    sendToGPT();
                } else if (e.target.closest('[data-event*="quickLog"]')) {
                    logReps(1);
                }
            });
            
        })();
    </script>
</body>
</html>